(window.webpackJsonp=window.webpackJsonp||[]).push([[5,2,3,4],{293:function(t,n,e){"use strict";var o=e(2),r=e(207).trim;o({target:"String",proto:!0,forced:e(295)("trim")},{trim:function(){return r(this)}})},294:function(t,n,e){"use strict";e(293);n.a={wasEdited:function(){return this.customTranslation&&this.customTranslation.trim().length>0&&this.customTranslation!=this.originalTranslation},currentTranslation:function(){return this.wasEdited?this.customTranslation:this.originalTranslation}}},295:function(t,n,e){var o=e(83).PROPER,r=e(3),l=e(208);t.exports=function(t){return r((function(){return!!l[t]()||"​᠎"!=="​᠎"[t]()||o&&l[t].name!==t}))}},296:function(t,n,e){var content=e(302);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(136).default)("28017d43",content,!0,{sourceMap:!1})},297:function(t,n,e){var content=e(304);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(136).default)("8a59016c",content,!0,{sourceMap:!1})},298:function(t,n,e){var content=e(306);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(136).default)("443c0afc",content,!0,{sourceMap:!1})},299:function(t,n,e){var content=e(308);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(136).default)("5ae7e192",content,!0,{sourceMap:!1})},300:function(t,n,e){"use strict";e.d(n,"b",(function(){return l})),e.d(n,"d",(function(){return c})),e.d(n,"a",(function(){return d})),e.d(n,"c",(function(){return f}));var o=e(14),r=e(22);e(82),e(15),e(32),e(206),e(40);function l(){return["de","en","fr","it","es"]}function c(t){t}function d(t){var n={},e=function t(e,path){var l=Object(r.a)(e,2),c=l[0],d=l[1],p=""===path?c:"".concat(path,".").concat(c);d&&"object"===Object(o.a)(d)?Object.entries(d).forEach((function(n){return t(n,p)})):n[p]=d};return Object.entries(t).forEach((function(t){return e(t,"")})),n}function f(data){if(Array.isArray(data)||Object(data)!==data)return data;for(var t,n,e,o,r,l={},c=0,d=Object.keys(data);c<d.length;c++){var p=d[c];t=l,n="",o=0;do{e=p.indexOf(".",o),r=p.substring(o,-1!==e?e:void 0),t[n]||(t[n]=isNaN(parseInt(r))?{}:[]),t=t[n],n=r,o=e+1}while(e>=0);t[n]=data[p]}return l[""]}},301:function(t,n,e){"use strict";e(296)},302:function(t,n,e){var o=e(135)((function(i){return i[1]}));o.push([t.i,'.parent-key{font-weight:700}.translation-row>td{max-width:540px}.translation-row{--line-color:var(--light-text);cursor:pointer;position:relative}.translation-row.parent-key{cursor:default}#edit-table th,.translation-row td{padding:1rem .5rem}.translation-row:not(.depth-0) td:first-child:before{border-bottom:1px solid var(--line-color);border-left:1px solid var(--line-color);content:"";display:block;height:100%;left:var(--depth-in-px);position:absolute;top:0;transform:translateY(-50%);transform-origin:center;width:17px}.translation-row:nth-child(odd){background:var(--bg-accent)}.translation-row:hover{background:rgba(0,106,255,.122)}.depth-line{border-left:1px solid var(--line-color);content:"";height:100%;left:var(--depth-in-px-2);position:absolute;top:0}',""]),o.locals={},t.exports=o},303:function(t,n,e){"use strict";e(297)},304:function(t,n,e){var o=e(135)((function(i){return i[1]}));o.push([t.i,".current-word-translation{border-radius:5px;padding:1px 2px}.current-word-translation.edited{background:rgba(255,181,22,.52)}",""]),o.locals={},t.exports=o},305:function(t,n,e){"use strict";e(298)},306:function(t,n,e){var o=e(135)((function(i){return i[1]}));o.push([t.i,".translation-word-grid{grid-gap:1rem;display:grid;gap:1rem}.translation-word td.iso{vertical-align:top;width:3rem}.translation-word:first-child td{padding-top:0}.translation-word:last-child td{padding-bottom:3rem}.translation-word td{padding-top:3rem}",""]),o.locals={},t.exports=o},307:function(t,n,e){"use strict";e(299)},308:function(t,n,e){var o=e(135)((function(i){return i[1]}));o.push([t.i,"label[data-v-2a220a18]{grid-gap:.2rem;display:grid;gap:.2rem}.iso[data-v-2a220a18],label>b[data-v-2a220a18]{color:#000}.translation-word .original-translation[data-v-2a220a18]{background:none;padding:0;resize:none}",""]),o.locals={},t.exports=o},309:function(t,n,e){var content=e(314);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(136).default)("75d55be3",content,!0,{sourceMap:!1})},310:function(t,n,e){"use strict";e.r(n);e(300);var o={props:["translationKey","isParent","path","value","languages"],emits:["input","open-edit"],data:function(){return{pxPerDepth:20}},computed:{paddingLeft:function(){return"".concat(this.depth*this.pxPerDepth,"px")},depth:function(){return this.path.split(".").length-1}}},r=(e(301),e(46)),component=Object(r.a)(o,(function(){var t=this,n=t._self._c;return n("tr",{staticClass:"translation-row",class:{"parent-key":t.isParent,"depth-0":0===t.depth},style:{"--depth-in-px":"".concat((t.depth-1)*t.pxPerDepth,"px")},on:{click:function(n){return t.$emit("open-edit")}}},[n("td",{staticClass:"translation-key",class:{"parent-key":t.isParent}},[n("span",{style:{"padding-left":t.paddingLeft}},[t._v("\n      "+t._s(t.translationKey)+"\n    ")])]),t._v(" "),t.isParent?n("td"):t._e(),t._v(" "),t._l(t.languages,(function(e){return t.isParent?n("td",{key:e}):t._e()})),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);n.default=component.exports},311:function(t,n,e){"use strict";e.r(n);var o=e(294),r={props:["originalTranslation","customTranslation"],computed:{wasEdited:o.a.wasEdited,currentTranslation:o.a.currentTranslation}},l=(e(303),e(46)),component=Object(l.a)(r,(function(){var t=this;return(0,t._self._c)("span",{staticClass:"current-word-translation",class:{edited:t.wasEdited}},[t._v("\n  "+t._s(t.currentTranslation)+"\n")])}),[],!1,null,null,null);n.default=component.exports},312:function(t,n,e){"use strict";e.r(n);var o=e(294),r={props:["originalTranslation","customTranslation","iso"],computed:{wasEdited:o.a.wasEdited,currentTranslation:o.a.currentTranslation}},l=(e(305),e(307),e(46)),component=Object(l.a)(r,(function(){var t=this,n=t._self._c;return n("tr",{staticClass:"translation-word"},[n("td",{staticClass:"iso"},[n("b",{staticClass:"iso"},[t._v(t._s(t.iso))])]),t._v(" "),n("td",[n("div",{staticClass:"translation-word-grid"},[n("label",[n("b",[t._v("Original translation:")]),t._v(" "),n("span",{staticClass:"original-translation"},[t._v(t._s(t.originalTranslation))])]),t._v(" "),n("label",[n("b",[t._v("Your translation:")]),t._v(" "),t._t("default")],2)])])])}),[],!1,null,"2a220a18",null);n.default=component.exports},313:function(t,n,e){"use strict";e(309)},314:function(t,n,e){var o=e(135)((function(i){return i[1]}));o.push([t.i,'html{font-size:14px}body{--accent:#0084ff;--light-text:#8c8c8c;--medium-text:#495057;--input-bg:#f3f3f3;--bg-accent:hsla(0,0%,86%,.188);color:#8c8c8c;color:var(--light-text);font-family:Roboto,system-ui,-apple-system,Segoe UI,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI",Oxygen,"Open Sans","Helvetica Neue";padding:1rem}#wrapper{align-items:left;display:flex;flex-direction:column;padding-bottom:10rem}h1,h2,h3,h4,h5,h6{color:#000}.btn{background:#000;border:none;border-radius:.2rem;color:#fff;cursor:pointer;font-weight:700;height:40px;padding:8px 12px}.iso{text-transform:uppercase}.translation-group{margin-left:24px}#edit-word-window-wrapper{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:rgba(0,0,0,.4);height:100%;left:0;position:fixed;top:0;width:100%}#edit-word-window-container{align-content:center;align-items:center;display:flex;height:100%;justify-content:center;left:0;pointer-events:none;position:absolute;top:0;width:100%}#edit-word-window-container>div{background:#fff;border-radius:.25rem;margin-left:5vmin;margin-right:5vmin;max-width:640px;padding:1rem 2.5rem;pointer-events:all}#edit-table{color:var(--medium-text)}#edit-table thead th{background:#fff;position:sticky;text-align:left;top:0}.original-translation,textarea{background:#f3f3f3;border:none;border-radius:.25rem;color:var(--medium-text);font-family:inherit;font-size:1rem;font-weight:400;line-height:1.5;overflow:auto;padding:.375rem .75rem;resize:vertical}textarea{--placeholder-col:var(--light-text)}textarea::-moz-placeholder{color:var(--placeholder-col);opacity:1}textarea::placeholder{color:var(--placeholder-col);opacity:1}textarea:-ms-input-placeholder{color:var(--placeholder-col)}textarea::-ms-input-placeholder{color:var(--placeholder-col)}input[type=file],select{background-color:var(--bg-accent);border:1px solid var(--light-text);border-radius:4px}input[type=file]{color:#000;height:40px;width:500px}input[type=file]::file-selector-button{background-color:#000;border:1px solid #000;border-radius:4px;color:#fff;cursor:pointer;height:40px;transition:all .25s ease-in}input[type=file]::file-selector-button:hover{background-color:#fff;color:#000;transition:all .25s ease-in}#column-selection label{align-items:center;font-weight:500;margin-right:.5rem;-webkit-user-select:none;-moz-user-select:none;user-select:none}#column-selection,#column-selection label{display:flex;flex-wrap:nowrap}',""]),o.locals={},t.exports=o},315:function(t,n,e){"use strict";e.r(n);e(84),e(85),e(47),e(41),e(15),e(82),e(40),e(33),e(65),e(66);var o=e(27),r=e(12),l=e(22),c=e(14);e(64),e(32),e(206),e(293),e(34),e(35),e(137);function d(t,n){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)),o=document.createElement("a");o.setAttribute("href",e),o.setAttribute("download",n+".json"),document.body.appendChild(o),o.click(),o.remove()}var main=e(300);e(310);function f(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}var h={data:function(){return{customTranslations:{},languages:["de","en"],allLanguages:Object(main.b)(),translationKeys:null,defaultTranslations:null,defaultTranslationsFlat:{},editWordPath:null,originalTranslationColumnIso:"de"}},created:function(){this.loadDefaultTranslations()},mounted:function(){var t=this;document.getElementById("fileInput").addEventListener("change",(function(){if(0!==this.files.length){var n=new FileReader;n.onload=function(){var e=n.result,o=JSON.parse(e);o&&"object"===Object(c.a)(o)&&(t.loadedCustomTranslations=Object(main.a)(o),t.customTranslations=Object(main.a)(o),console.log(t.customTranslations),t.setTranslationKeys())},n.readAsText(this.files[0])}else console.log("No file selected.")}))},methods:{downloadResult:function(){var t=this,n={};Object.entries(this.customTranslations).forEach((function(e){var o=Object(l.a)(e,2),r=o[0],c=o[1],d=String(c||"").trim();d.length>0&&d!=t.defaultTranslationsFlat[r]&&(n[r]=d)})),d(Object(main.c)(n),"translations")},loadDefaultTranslations:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var e,o,r,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setDefaultTranslations(null),"https://main.d1u2qdrqduf5v6.amplifyapp.com/translations/",e=t.allLanguages.map((function(t){return"".concat("https://main.d1u2qdrqduf5v6.amplifyapp.com/translations/").concat(t,"/translations.json")})),o=e.map((function(n){return t.$axios.get(n)})),n.next=6,Promise.all(o);case 6:r=n.sent,l={},t.allLanguages.forEach((function(t,n){var e=r[n].data,data="string"==typeof e?JSON.parse(data):e;l[t]=data})),t.setDefaultTranslations(l),t.setTranslationKeys();case 11:case"end":return n.stop()}}),n)})))()},openEdit:function(path){this.editWordPath=path},closeEdit:function(){this.editWordPath=null},setDefaultTranslations:function(t){Object(main.d)(t),this.defaultTranslationsFlat=Object(main.a)(t||{}),this.defaultTranslations=t},setTranslationKeys:function(){var t=this,n=function(t,n){var o=Object(l.a)(t,2),r=o[0],d=o[1],path=""===n?r:"".concat(n,".").concat(r),f={key:r,children:null,path:path};return d&&"object"===Object(c.a)(d)?f.children=e(d,path):f.original=d,f},e=function(t,path){return Object.entries(t).map((function(t){return n(t,path)}))},o=null;if(this.defaultTranslations){o=[],this.translationKeys=e(this.defaultTranslations.de,"");this.translationKeys.forEach((function t(n){var e={key:n.key,path:n.path,isParent:!1};n.children?(e.isParent=!0,o.push(e),n.children.forEach(t)):(e.original=n.original,o.push(e))})),this.languages.forEach((function(n){o.forEach((function(e){var o=e.isParent,path=e.path;if(!o){var r="".concat(n,".").concat(path);t.customTranslations[r]=t.customTranslations[r]||""}}))}))}else this.translationKeys=null;this.translationRows=o},updateTranslation:function(t,path,n){this.customTranslations["".concat(t,".").concat(path)]=n.target.value,this.customTranslations=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(n){Object(o.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}({},this.customTranslations)},languageSelectionChanged:function(t){var n=this,e=this.languages.includes(t);this.languages=this.allLanguages.filter((function(o){return o===t?!e:n.languages.includes(o)}))},downloadResultAsSourceFile:function(t){var n=this,e={};Object.entries(this.customTranslations).forEach((function(o){var r=Object(l.a)(o,2),c=r[0],d=r[1];if(!c.startsWith(t))return null;var f=String(d||"").trim();e[c]=f.length>0?f:n.defaultTranslationsFlat[c]})),d(Object(main.c)(e),t)}},computed:{isLoading:function(){return null===this.defaultTranslations}}},v=h,m=(e(313),e(46)),component=Object(m.a)(v,(function(){var t=this,n=t._self._c;return n("div",{attrs:{id:"wrapper"}},[t.isLoading?n("div",[n("h1",[t._v("CADI Translation Editor")]),t._v(" "),n("p",[t._v("Loading...")])]):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticStyle:{display:"grid",gap:"5rem"}},[n("h1",[t._v("CADI Translation Editor")]),t._v(" "),t._m(0),t._v(" "),n("div",[n("h2",[t._v("Step 2: Edit translations")]),t._v(" "),n("div",{attrs:{id:"column-selection"}},t._l(t.allLanguages,(function(e){return n("label",{key:e},[n("input",{attrs:{type:"checkbox",name:e},domProps:{checked:t.languages.includes(e)},on:{input:function(n){return t.languageSelectionChanged(e)}}}),t._v(" "),n("span",{staticClass:"iso"},[t._v("\n            "+t._s(e)+"\n          ")])])})),0),t._v(" "),t.translationKeys&&t.translationRows?n("table",{attrs:{id:"edit-table"}},[n("thead",[n("th",[t._v("Key")]),t._v(" "),n("th",{staticStyle:{"white-space":"nowrap"}},[t._v("\n            Original\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.originalTranslationColumnIso,expression:"originalTranslationColumnIso"}],staticClass:"iso",staticStyle:{"margin-left":"4px"},on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.originalTranslationColumnIso=n.target.multiple?e:e[0]}}},t._l(t.allLanguages,(function(e){return n("option",{key:e,staticClass:"iso",domProps:{value:e}},[t._v("\n                "+t._s(e)+"\n              ")])})),0)]),t._v(" "),t._l(t.languages,(function(e){return n("th",{key:e,staticClass:"iso"},[t._v(t._s(e))])}))],2),t._v(" "),n("tbody",t._l(t.translationRows,(function(e){var o=e.key,r=e.isParent,path=e.path;return n("translationRow",{key:path,attrs:{isParent:r,translationKey:o,path:path,languages:t.languages},on:{"open-edit":function(n){!r&&t.openEdit(path)}}},[r?t._e():n("td",[t._v("\n              "+t._s(t.defaultTranslationsFlat["".concat(t.originalTranslationColumnIso,".").concat(path)])+"\n            ")]),t._v(" "),t._l(t.languages,(function(e){return r?t._e():n("td",{key:e},[n("current-word-translation",{attrs:{originalTranslation:t.defaultTranslationsFlat["".concat(e,".").concat(path)],customTranslation:t.customTranslations["".concat(e,".").concat(path)]}})],1)}))],2)})),1)]):t._e()]),t._v(" "),t.editWordPath?n("div",{attrs:{id:"edit-word-window-wrapper"}},[n("div",{staticStyle:{display:"absolut",left:"0",top:"0",width:"100%",height:"100%"},on:{click:t.closeEdit}}),t._v(" "),n("div",{attrs:{id:"edit-word-window-container"}},[n("div",[n("table",t._l(t.languages,(function(e){return n("translation-word",{key:e,attrs:{iso:e,originalTranslation:t.defaultTranslationsFlat["".concat(e,".").concat(t.editWordPath)],customTranslation:t.customTranslations["".concat(e,".").concat(t.editWordPath)]}},[n("textarea",{staticStyle:{"min-width":"200px"},attrs:{rows:"5",cols:"16",placeholder:t.defaultTranslationsFlat["".concat(e,".").concat(t.editWordPath)]},domProps:{value:t.customTranslations["".concat(e,".").concat(t.editWordPath)]},on:{input:function(n){return t.updateTranslation(e,t.editWordPath,n)}}})])})),1),t._v(" "),n("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[n("span",{staticStyle:{"margin-right":"2rem","font-size":"small"}},[t._v("Changes get automatically saved")]),t._v(" "),n("button",{staticClass:"btn",on:{click:t.closeEdit}},[t._v("Ok")])])])])]):t._e(),t._v(" "),n("div",{staticStyle:{"max-width":"540px"}},[n("h2",[t._v("Step 3: Download results")]),t._v(" "),n("p",[t._v("\n        Download the output file, which contains your custom translations.\n        Upload it on your website and make sure to provide your booking mask\n        frontend code with the relative path to the uploaded custom\n        translations file.\n      ")]),t._v(" "),n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("button",{staticClass:"btn",on:{click:t.downloadResult}},[t._v("Download")]),t._v(" "),n("div",{staticStyle:{display:"flex","flex-wrap":"nowrap"}},[n("span",{staticStyle:{"margin-right":"6px","margin-top":"auto","margin-bottom":"auto","font-weight":"500"}},[t._v("Download source file:")]),t._v(" "),t._l(t.languages,(function(e){return n("button",{key:e,staticClass:"iso btn",staticStyle:{"margin-left":"4px"},on:{click:function(n){return t.downloadResultAsSourceFile(e)}}},[t._v("\n            "+t._s(e)+"\n          ")])}))],2)])])])])}),[function(){var t=this,n=t._self._c;return n("div",[n("h2",[t._v("Step 1: Load project (optional)")]),t._v(" "),n("label",{attrs:{for:"fileInput"}},[n("p",[t._v("\n          Load your current custom translations .json file to continue\n          editing.\n        ")])]),t._v(" "),n("input",{attrs:{type:"file",name:"fileInput",id:"fileInput",accept:".json"}})])}],!1,null,null,null);n.default=component.exports;installComponents(component,{CurrentWordTranslation:e(311).default,TranslationWord:e(312).default})}}]);